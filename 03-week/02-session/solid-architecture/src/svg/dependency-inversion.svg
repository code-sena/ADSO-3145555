<svg viewBox="0 0 850 350" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <marker id="blueArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#2563eb"/>
        </marker>
        <marker id="greenArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
        </marker>
    </defs>

    <text x="425" y="30" text-anchor="middle" fill="#334155" font-weight="700" font-size="16">Inversión de Dependencias en Acción</text>

    <!-- Alto nivel -->
    <rect x="50" y="60" width="350" height="120" rx="12" fill="#eff6ff" stroke="#2563eb" stroke-width="2"/>
    <text x="225" y="90" text-anchor="middle" fill="#1e40af" font-weight="600" font-size="13">ALTO NIVEL (Políticas)</text>
    
    <rect x="80" y="110" width="130" height="50" rx="8" fill="#2563eb"/>
    <text x="145" y="140" text-anchor="middle" fill="white" font-size="11">Controller</text>
    
    <rect x="240" y="110" width="130" height="50" rx="8" fill="#f59e0b"/>
    <text x="305" y="140" text-anchor="middle" fill="white" font-size="11">Service</text>

    <!-- Abstracciones -->
    <rect x="250" y="200" width="350" height="60" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" stroke-dasharray="8,4"/>
    <text x="425" y="235" text-anchor="middle" fill="#92400e" font-weight="600" font-size="13">ABSTRACCIONES (Interfaces)</text>
    <text x="425" y="250" text-anchor="middle" fill="#a16207" font-size="11">IService • IRepository</text>

    <!-- Bajo nivel -->
    <rect x="450" y="60" width="350" height="120" rx="12" fill="#f0fdf4" stroke="#10b981" stroke-width="2"/>
    <text x="625" y="90" text-anchor="middle" fill="#065f46" font-weight="600" font-size="13">BAJO NIVEL (Detalles)</text>
    
    <rect x="480" y="110" width="130" height="50" rx="8" fill="#10b981"/>
    <text x="545" y="140" text-anchor="middle" fill="white" font-size="11">Repository Impl</text>
    
    <rect x="640" y="110" width="130" height="50" rx="8" fill="#64748b"/>
    <text x="705" y="140" text-anchor="middle" fill="white" font-size="11">DB Driver</text>

    <!-- Flechas de dependencia -->
    <path d="M 225 180 L 350 200" stroke="#2563eb" stroke-width="2" marker-end="url(#blueArrow)"/>
    <path d="M 625 180 L 500 200" stroke="#10b981" stroke-width="2" marker-end="url(#greenArrow)"/>

    <!-- Explicación -->
    <rect x="100" y="285" width="650" height="50" rx="8" fill="#f8fafc" stroke="#e2e8f0"/>
    <text x="425" y="310" text-anchor="middle" fill="#334155" font-size="12">✅ Alto y bajo nivel dependen de abstracciones</text>
    <text x="425" y="325" text-anchor="middle" fill="#64748b" font-size="11">Las abstracciones no dependen de detalles • Los detalles dependen de abstracciones</text>
</svg>
